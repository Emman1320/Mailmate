(this["webpackJsonpmail-mate"]=this["webpackJsonpmail-mate"]||[]).push([[0],{112:function(e,t,a){e.exports={header:"Header_header__h8kVC",nav:"Header_nav__2mWwQ",logo:"Header_logo__Adh_X",onLoading:"Header_onLoading__36koB",onLoadingComplete:"Header_onLoadingComplete__37Is5"}},127:function(e,t,a){e.exports={tabs:"SendEmailNavBar_tabs__xFzBp",navBar:"SendEmailNavBar_navBar__3jvPy"}},128:function(e,t,a){e.exports={container:"StatusTable_container__1YoA5",fade:"StatusTable_fade__1ollb",circle:"StatusTable_circle__2WFRP"}},140:function(e,t){},152:function(e,t,a){e.exports={Button:"Button_Button__1kear"}},161:function(e,t,a){e.exports={sendEmailContainer:"SendEmailLayout_sendEmailContainer__3HJ6C",body:"SendEmailLayout_body__T8u87",navigation:"SendEmailLayout_navigation__1gPuo"}},162:function(e,t,a){var n=a(213),r=a(220),c=function(){var e={},t=function(e){return Number(e.replace(/[A-z]/gi,""))},a=function(e){return e.replace(/[0-9]/g,"").toUpperCase()},c=function(e){return e.match(/^[^:]*/)[0]},i=function(e){return e.match(/[^:]*$/)[0]};function s(t){if(t)return"z"===t.t&&e.sheetStubs?null:"n"===t.t||"d"===t.t?t.v:t.w&&t.w.trim&&t.w.trim()||t.w}var l=function(n,l){var o,d,j=n.constructor===String?n:n.name,u=l.Sheets[j],b=n.columnToKey||e.columnToKey,h=n.range||e.range,p=n.header&&n.header.rows||e.header&&e.header.rows,m=n.header&&n.header.rowToKeys||e.header&&e.header.rowToKeys;h&&(o={from:a(c(h)),to:a(i(h))},d={from:t(c(h)),to:t(i(h))});var x=[],f=function(c){if("!ref"===c||void 0===u[c].v&&(!e.sheetStubs||"z"!==u[c].t))return"continue";var i=t(c),l=a(c);if(p&&i<=p)return"continue";if(b&&!b[l]&&!b["*"])return"continue";if(o&&d&&(l<o.from||l>o.to||i<d.from||i>d.to))return"continue";var j=x[i]=x[i]||{},h=b&&(b[l]||b["*"])?b[l]||b["*"]:m?"{{".concat(l).concat(m,"}}"):l,f=h.match(/{{([^}}]+)}}/g);if(f&&f.forEach((function(e){var t,a=e.replace(/[{}]*/gi,"");switch(a){case"columnHeader":a=p?"".concat(l).concat(p):"".concat(l+1);break;default:t=s(u[a])}h=h.replace(e,t)})),""===h)return"continue";j[h]=s(u[c]),n.appendData&&r(!0,j,n.appendData)};for(var O in u)f(O);return x.shift(),e.includeEmptyLines||(x=x.filter((function(e){return null!==e&&void 0!==e}))),x};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((e=t.constructor===String?JSON.parse(t):t).includeEmptyLines=e.includeEmptyLines||!1,!e.sourceFile&&!e.source)throw new Error(":: 'sourceFile' or 'source' required for _config :: ");var a=n.read(e.source,{type:"array"}),r=e.sheets&&e.sheets.constructor===Array?e.sheets:Object.keys(a.Sheets).slice(0,e&&e.sheets&&e.sheets.numberOfSheetsToGet||void 0),c={};return r.forEach((function(e){e=e.constructor===String?{name:e}:e,c.Sheet1=l(e,a)})),c}}();e.exports=c},163:function(e,t,a){e.exports={container:"Recipient_container__S4WlE"}},164:function(e,t,a){e.exports={table:"Table_table__3TWQ6"}},165:function(e,t,a){e.exports={table:"Table_table__LhUvY"}},173:function(e,t,a){e.exports={drafts:"Drafts_drafts__cl_3g"}},200:function(e,t,a){},201:function(e,t,a){},218:function(e,t){},219:function(e,t){},24:function(e,t,a){e.exports={dashboard:"Dashboard_dashboard__1UQq_",welcome:"Dashboard_welcome__Mtc27",h2:"Dashboard_h2__zQgNO",excelImage:"Dashboard_excelImage__2Ng4N",para:"Dashboard_para__25_aO",img:"Dashboard_img__3TOt0",h3:"Dashboard_h3__1xcno"}},264:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(57),i=a.n(c),s=(a(200),a(33)),l=a(25),o=(a(201),a(152)),d=a.n(o),j=a(0),u=function(e){return Object(j.jsx)("button",{type:e.type,onClick:e.onClick,disabled:e.disabled,className:"".concat(d.a.Button," ").concat(e.className),children:e.children})},b=a(50),h=a.n(b),p=a(12),m={value:"",isTouched:!1},x=function e(t,a){return"INPUT"===a.type?{value:a.value,isTouched:t.isTouched}:"BLUR"===a.type?{isTouched:!0,value:t.value}:"RESET"===a.type?{isTouched:!1,value:""}:e},f=function(e){var t=Object(n.useReducer)(x,m),a=Object(p.a)(t,2),r=a[0],c=a[1],i=e(r.value),s=!i&&r.isTouched;return{value:r.value,isValid:i,hasError:s,valueChangeHandler:function(e){c({type:"INPUT",value:e.target.value})},inputBlurHandler:function(e){c({type:"BLUR"})},reset:function(){c({type:"RESET"})}}},O=a(129),_=(O.a.initializeApp({apiKey:"AIzaSyBigEoIAA8pJwW1DK0-oBXDYGX8TyZtH2E",authDomain:"mail-mate.firebaseapp.com",projectId:"mail-mate",storageBucket:"mail-mate.appspot.com",messagingSenderId:"992200101366",appId:"1:992200101366:web:4814fecb81b922e07c4bd7",measurementId:"G-EG6QLZEQWX"}),O.a.auth()),v=function(e){return""!==e.trim()},g=function(e){return e.includes("@")},y=function(){var e=Object(l.f)(),t=f(g),a=t.value,n=t.isValid,r=t.hasError,c=t.valueChangeHandler,i=t.inputBlurHandler,o=t.reset,d=f(v),b=d.value,p=d.isValid,m=d.hasError,x=d.valueChangeHandler,O=d.inputBlurHandler,y=d.reset,S=!1;n&&p&&(S=!0);return Object(j.jsxs)("div",{className:h.a.container,children:[Object(j.jsx)(s.b,{to:"/dashboard",children:Object(j.jsx)("div",{className:"".concat(h.a.logo," ").concat(h.a["margin-top"]),children:Object(j.jsx)("div",{children:"Mailmate"})})}),Object(j.jsxs)("div",{className:h.a.wrapper,children:[Object(j.jsxs)("form",{className:h.a.form,onSubmit:function(t){t.preventDefault(),S&&(_.signInWithEmailAndPassword(a,b).then((function(t){t&&e.push("/dashboard")})).catch((function(e){"auth/user-not-found"===e.code&&alert("No user found. Please create an account"),"auth/wrong-password"===e.code&&alert(e.message)})),o(),y())},children:[Object(j.jsx)("h2",{children:"Sign-in"}),Object(j.jsxs)("div",{className:h.a.details,children:[Object(j.jsx)("label",{children:Object(j.jsx)("h3",{children:"Email"})}),Object(j.jsx)("input",{type:"text",className:r?h.a.invalid:"",value:a,onChange:c,onBlur:i}),r&&Object(j.jsx)("p",{className:h.a["error-text"],children:"Please enter a valid email address."}),Object(j.jsx)("label",{children:Object(j.jsx)("h3",{children:"Password"})}),Object(j.jsx)("input",{type:"password",className:m?h.a.invalid:"",value:b,onChange:x,onBlur:O}),m&&Object(j.jsx)("p",{className:h.a["error-text"],children:"Please enter a valid password"})]}),Object(j.jsx)("div",{className:h.a.actions,children:Object(j.jsx)(u,{disabled:!S,children:Object(j.jsx)("h3",{children:"Sign in"})})})]}),Object(j.jsx)("div",{className:h.a.signup,onClick:function(){e.push("/sign-up")},children:Object(j.jsx)("p",{children:"Create an account"})})]})]})},S=a(46),C=a.n(S),N=function(e){return""!==e.trim()},E=function(e){return e.includes("@")},w=function(){var e=Object(l.f)(),t=f(E),a=t.value,n=t.isValid,r=t.hasError,c=t.valueChangeHandler,i=t.inputBlurHandler,o=t.reset,d=f(N),b=d.value,h=d.isValid,p=d.hasError,m=d.valueChangeHandler,x=d.inputBlurHandler,O=d.reset,v=!1;n&&h&&(v=!0);return Object(j.jsxs)("div",{className:C.a.container,children:[Object(j.jsx)(s.b,{to:"/dashboard",children:Object(j.jsx)("div",{className:"".concat(C.a.logo," ").concat(C.a["margin-top"]),children:Object(j.jsx)("div",{children:"Mailmate"})})}),Object(j.jsxs)("div",{className:"".concat(C.a.wrapper," ").concat(C.a.shrink),children:[Object(j.jsxs)("form",{className:C.a.form,onSubmit:function(t){t.preventDefault(),v&&(_.createUserWithEmailAndPassword(a,b).then((function(t){t&&e.push("/dashboard")})).catch((function(e){"auth/user-not-found"===e.code?alert("No user found. Please create an account"):alert(e.message)})),o(),O())},children:[Object(j.jsx)("h2",{children:"Sign-up"}),Object(j.jsxs)("div",{className:C.a.details,children:[Object(j.jsx)("label",{children:Object(j.jsx)("h3",{children:"Email"})}),Object(j.jsx)("input",{spellCheck:"false",type:"text",className:r?C.a.invalid:"",value:a,onChange:c,onBlur:i}),r&&Object(j.jsx)("p",{className:C.a["error-text"],children:"Please enter a valid email address."}),Object(j.jsx)("label",{children:Object(j.jsx)("h3",{children:"Password"})}),Object(j.jsx)("input",{spellCheck:"false",type:"password",className:p?C.a.invalid:"",value:b,onChange:m,onBlur:x}),p&&Object(j.jsx)("p",{className:C.a["error-text"],children:"Please enter a valid password"})]}),Object(j.jsx)("div",{className:C.a.actions,children:Object(j.jsx)(u,{disabled:!v,children:Object(j.jsx)("h3",{children:"Sign up"})})})]}),Object(j.jsx)("div",{className:C.a.signin,onClick:function(){e.push("/sign-in")},children:Object(j.jsx)("p",{children:"Already have an account ? Sign in here"})})]})]})},T=a(62),k=a(24),F=a.n(k),L=a.p+"static/media/ExcelTestData.98fff187.jpg",M=a.p+"static/media/step1.aa245d8b.jpg",D=a.p+"static/media/step2.21d80fc1.jpg",I=a.p+"static/media/step3.2c3b8b9b.jpg",A=a.p+"static/media/step3.1.7e0e4efe.jpg",B=a.p+"static/media/step3.2.a29089c1.jpg",P=a.p+"static/media/step4.42f71b3c.jpg",U=a.p+"static/media/step5.c12a0d65.jpg",R=function(){var e=Object(T.c)((function(e){return e.user.user}));return Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)("div",{className:F.a.dashboard,children:Object(j.jsxs)("div",{className:F.a.welcome,children:[Object(j.jsxs)("div",{children:["Hello ",null===e||void 0===e?void 0:e.email,"\ud83d\udc4b"]}),Object(j.jsx)("div",{children:"Welcome to Mailmate!!"})]})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:F.a.h2,children:"About"}),Object(j.jsx)("div",{className:F.a.para,children:"This is a website to take data from excel files as input and send mass emails using it."}),Object(j.jsxs)("div",{className:F.a.excelImage,children:[Object(j.jsx)("img",{src:L,alt:""}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:F.a.para,children:"This is the prefered format for the excel file that is uploaded."}),Object(j.jsxs)("div",{className:F.a.para,children:[Object(j.jsx)("li",{children:"Every recipient must have an unique key to distinguish from other recipients."}),Object(j.jsx)("li",{children:"Every recipient must have an email Id ."}),Object(j.jsx)("li",{children:"Keep only the table and clear other cells for our application to retrieve the information properly."})]})]})]}),Object(j.jsx)("div",{className:F.a.h3,children:"Step 1:"}),Object(j.jsx)("div",{className:F.a.para,children:Object(j.jsx)("img",{src:M,className:F.a.img,alt:""})}),Object(j.jsx)("div",{className:F.a.h3,children:"Step 2:"}),Object(j.jsx)("div",{className:F.a.para,children:"Deselect the recipients you wanted to exclude."}),Object(j.jsx)("img",{src:D,className:F.a.img,alt:""}),Object(j.jsx)("div",{className:F.a.h3,children:"Step 3:"}),Object(j.jsx)("div",{className:F.a.para,children:Object(j.jsx)("img",{src:I,className:F.a.img,alt:""})}),Object(j.jsxs)("div",{className:F.a.para,style:{display:"flex",alignItems:"center"},children:[Object(j.jsx)("img",{src:A,className:F.a.img,style:{width:"18em"},alt:""}),Object(j.jsx)("div",{children:Object(j.jsx)("li",{children:"Use the variables for a personalized email."})})]}),Object(j.jsxs)("div",{className:F.a.para,style:{display:"flex",alignItems:"center",flexDirection:"row-reverse",justifyContent:"space-between"},children:[Object(j.jsx)("img",{src:B,className:F.a.img,style:{width:"28em"},alt:""}),Object(j.jsx)("div",{children:Object(j.jsx)("li",{children:"Choose the table style you like."})})]}),Object(j.jsx)("div",{className:F.a.h3,children:"Step 4:"}),Object(j.jsx)("div",{className:F.a.para,children:"Take a look at the preview of your emails."}),Object(j.jsx)("img",{src:P,className:F.a.img,alt:""}),Object(j.jsx)("div",{className:F.a.h3,children:"Step 5:"}),Object(j.jsx)("div",{className:F.a.para,children:"Send your emails with a click (If you are using the site for the first time then it takes time for that button to respond)."}),Object(j.jsx)("img",{src:U,className:F.a.img,alt:""}),Object(j.jsx)("div",{className:F.a.para,children:"A Dialog window opens to choose the account from which you wanted to send the emails."})]})]})},H=a(112),K=a.n(H),Z=function(){var e=Object(T.c)((function(e){return e.user.user}));return Object(j.jsx)(n.Fragment,{children:Object(j.jsxs)("div",{className:K.a.header,children:[Object(j.jsx)(s.c,{to:"/dashboard",children:Object(j.jsx)("div",{className:K.a.logo,children:"Mailmate"})}),Object(j.jsx)("nav",{className:K.a.nav,children:e?Object(j.jsx)("span",{onClick:function(){_.signOut()},children:"Sign Out"}):Object(j.jsx)(s.c,{to:"/sign-in",children:Object(j.jsx)("span",{children:"Sign In"})})})]})})},W=a(83),q=a.n(W),G=a(156),z=a.n(G),V=a(160),X=a.n(V),Q=function(e){var t=Object(l.g)().pathname,a={height:"".concat("/dashboard"===t?"700%":"auto")};return Object(j.jsxs)("div",{className:q.a.home,children:[Object(j.jsxs)("div",{className:q.a.sidebar,style:a,children:[Object(j.jsx)(s.c,{to:"/dashboard",children:Object(j.jsxs)("div",{className:"/dashboard"===t?q.a.active:"",children:[Object(j.jsx)(z.a,{}),Object(j.jsx)("span",{children:"Dashboard"})]})}),Object(j.jsx)(s.c,{to:"/send-email/upload-file",children:Object(j.jsxs)("div",{className:"/send-email/upload-file"===t?q.a.active:"",children:[Object(j.jsx)(X.a,{}),Object(j.jsx)("span",{children:"Send Email"})]})})]}),Object(j.jsx)("div",{className:q.a.main,children:e.children})]})},Y=a(161),J=a.n(Y),$=a(19),ee=a(347);var te=function(e){return Object(j.jsx)("div",Object($.a)(Object($.a)({role:"tabpanel",hidden:e.value!==e.index,id:"simple-tabpanel-".concat(e.index),"aria-labelledby":"simple-tab-".concat(e.index)},e.other),{},{children:e.value===e.index&&Object(j.jsx)(ee.a,{children:Object(j.jsx)("div",{children:e.children})})}))},ae=a(127),ne=a.n(ae),re=a(348),ce=a(338),ie=a(350);function se(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var le,oe=function(e){var t=e.value,a=e.onTabChangeHandler,n=e.tabList,r=Object(l.f)();return Object(j.jsx)(re.a,{style:{backgroundColor:"rgb(1 82 189 / 88%)",zIndex:"0"},className:ne.a.navBar,position:"static",children:Object(j.jsxs)(ce.a,{className:ne.a.tabs,value:t,onChange:function(e,t){a(t),r.push(n[t])},"aria-label":"simple tabs example",children:[Object(j.jsx)(ie.a,Object($.a)({label:"upload file"},se(0))),Object(j.jsx)(ie.a,Object($.a)({label:"recipients"},se(1))),Object(j.jsx)(ie.a,Object($.a)({label:"compose"},se(2))),Object(j.jsx)(ie.a,Object($.a)({label:"email preview"},se(3))),Object(j.jsx)(ie.a,Object($.a)({label:"send"},se(4)))]})})},de=a(70),je=a.n(de),ue=a(162),be=a.n(ue),he=a(20),pe=function(e,t){switch(t.type){case"CARET":return Object($.a)(Object($.a)({},e),{},{caretPosition:t.caretPosition});case"SAVE_SHEET_DATA":return Object($.a)(Object($.a)({},e),{},{data:t.data});case"ADD_FIELD":return Object($.a)(Object($.a)({},e),{},{fields:Object($.a)(Object($.a)({},e.fields),t.field)});case"HAS_ERROR":return Object($.a)(Object($.a)({},e),{},{errorModal:Object($.a)(Object($.a)({},e.errorModal),t.error)});case"NEGLECT_EMAILS":return Object($.a)(Object($.a)({},e),{},{neglectEmails:[].concat(Object(he.a)(e.neglectEmails),[t.neglectEmail])});case"UNDO_NEGLECT_EMAILS":var a=e.neglectEmails.filter((function(e){return e!==t.primaryKey}));return Object($.a)(Object($.a)({},e),{},{neglectEmails:a});case"SENDER":return Object($.a)(Object($.a)({},e),{},{sender:t.sender});case"ADD_SUBJECT":return Object($.a)(Object($.a)({},e),{},{subject:t.subject});case"ADD_BODY":return Object($.a)(Object($.a)({},e),{},{body:t.body});case"ADD_FOOTER":return Object($.a)(Object($.a)({},e),{},{footer:t.footer});case"SHOW_TABLE":return Object($.a)(Object($.a)({},e),{},{showTable:t.showTable});case"ADD_TABLE_STYLE":return Object($.a)(Object($.a)({},e),{},{tableStyle:t.style});default:return e}},me=a(1),xe=me.createContext,fe=me.useReducer,Oe=me.useContext,_e={data:{},fields:{primaryKey:"",nameField:"",emailIdField:""},neglectEmails:[],email:"",errorModal:{hasError:!1,errorTitle:"",errorMessage:""},caretPosition:0,subject:"",body:"",footer:"",tableStyle:{background:"white",header:{border:"1px solid black",color:"black"},body:{border:"1px solid black",color:"black"}},showTable:!1},ve=xe({data:{},fields:{primaryKey:"",nameField:"",emailIdField:""},sender:"",neglectEmails:[],saveData:function(){},saveField:function(){},neglectEmail:function(){},undoNeglectEmail:function(){},selectSender:function(){},showError:function(e){e.hasError,e.errorTitle,e.errorMessage},errorModal:{hasError:"",errorTitle:"",errorMessage:""},caretPosition:0,updateCaretPosition:function(){},subject:"",addSubject:function(){},body:"",footer:"",addBody:function(){},addFooter:function(){},tableStyle:{background:"",header:{border:"",color:""},body:{border:"",color:""}},addTableStyle:function(){},showTable:!1,setShowTable:function(){}}),ge=function(){return Oe(ve)},ye=function(e){var t=fe(pe,_e),a=Object(p.a)(t,2),n=a[0],r=a[1],c={data:n.data,saveData:function(e){r({type:"SAVE_SHEET_DATA",data:e})},fields:n.fields,saveField:function(e){r({type:"ADD_FIELD",field:e})},neglectEmails:n.neglectEmails,neglectEmail:function(e){r({type:"NEGLECT_EMAILS",neglectEmail:e})},undoNeglectEmail:function(e){r({type:"UNDO_NEGLECT_EMAILS",primaryKey:e})},sender:n.sender,selectSender:function(e){r({type:"SENDER",sender:e})},errorModal:n.errorModal,showError:function(e){r({type:"HAS_ERROR",error:e})},caretPosition:n.caretPosition,updateCaretPosition:function(e){r({type:"CARET",caretPosition:e})},subject:n.subject,body:n.body,footer:n.footer,addSubject:function(e){r({type:"ADD_SUBJECT",subject:e})},addBody:function(e){r({type:"ADD_BODY",body:e})},addFooter:function(e){r({type:"ADD_FOOTER",footer:e})},tableStyle:n.tableStyle,addTableStyle:function(e){r({type:"ADD_TABLE_STYLE",style:e})},showTable:n.showTable,setShowTable:function(e){r({type:"SHOW_TABLE",showTable:e})}};return Object(j.jsx)(ve.Provider,{value:c,children:e.children})},Se=a(85),Ce=a.n(Se),Ne=function(){var e=ge(),t=e.data.Sheet1?e.data.Sheet1[0]:{};Array.isArray(e.data.Sheet1.slice(-1)[0])||(le=e.data.Sheet1);var a=Object.keys(t),r=["","",""];a.length&&(r=[t[e.fields.primaryKey],t[e.fields.nameField],t[e.fields.emailIdField]]);var c=Object(n.useState)(r[0]),i=Object(p.a)(c,2),s=i[0],l=i[1],o=Object(n.useState)(!1),d=Object(p.a)(o,2),u=d[0],b=d[1],h=Object(n.useState)(r[1]),m=Object(p.a)(h,2),x=m[0],f=m[1],O=Object(n.useState)(r[2]),_=Object(p.a)(O,2),v=_[0],g=_[1];if(!e.data.Sheet1)return Object(j.jsx)(n.Fragment,{});var y=Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)("option",{children:"Select a value"}),a.map((function(e){return Object(j.jsx)("option",{children:t[e]},Math.random())}))]});return Object(j.jsxs)("div",{className:Ce.a.specifyField,children:[u?Object(j.jsx)("span",{className:Ce.a.errorText,children:"This is not a proper unique identfier column (repeats itself a more than once). Choose a proper unique identifier column to avoid errors."}):"",Object(j.jsxs)("div",{className:Ce.a.dropdown,children:[Object(j.jsx)("label",{children:"Choose an unique identifier:"}),Object(j.jsx)("select",{value:s,onChange:function(n){var r=a.filter((function(e){return t[e]===n.target.value}))[0];e.saveField({primaryKey:r});var c=function(e,t){var a=[],n=Object(he.a)(e);a.push(n[0]);for(var r=1,c=2;c<n.length;c++)n[c][t]&&(a.push(n.slice(r,c)),r=c);return a.push(n.slice(r,n.length)),a}(le,r);e.saveData({Sheet1:c}),l(n.target.value);var i=[c.slice(1)[0][0][r]],s=!0;c.slice(2).forEach((function(e){if(i.includes(e[0][r])&&e[0][r])return b(!0),void(s=!1);i.push(e[0][r])})),s&&b(!1)},children:y})]}),Object(j.jsxs)("div",{className:Ce.a.dropdown,children:[Object(j.jsx)("label",{children:"Choose the name field(optional):"}),Object(j.jsx)("select",{value:x,onChange:function(n){var r=a.filter((function(e){return t[e]===n.target.value}))[0]||"";e.saveField({nameField:r}),f(n.target.value)},children:y})]}),Object(j.jsxs)("div",{className:Ce.a.dropdown,children:[Object(j.jsx)("label",{children:"Choose the Email Id field:"}),Object(j.jsx)("select",{value:v,onChange:function(n){var r=a.filter((function(e){return t[e]===n.target.value}))[0];e.saveField({emailIdField:r}),g(n.target.value)},children:y})]})]})},Ee=a(76),we=a.n(Ee),Te=function(e){return Object(j.jsx)("div",{className:"".concat(we.a.container," ").concat(e.className),children:Object(j.jsxs)("svg",{x:"0px",y:"0px",viewBox:"0 0 37 37",className:we.a.svg,children:[Object(j.jsx)("path",{className:"".concat(we.a.circ," ").concat(we.a.path),d:" M30.5,6.5L30.5,6.5c6.6,6.6,6.6,17.4,0,24l0,0c-6.6,6.6-17.4,6.6-24,0l0,0c-6.6-6.6-6.6-17.4,0-24l0,0C13.1-0.2,23.9-0.2,30.5,6.5z"}),Object(j.jsx)("polyline",{className:"".concat(we.a.tick," ").concat(we.a.path),points:" 11.6,20 15.9,24.2 26.4,13.8 "})]})})},ke=a(343),Fe=a(71),Le=a.n(Fe),Me=function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),r=a[0],c=a[1],i=ge().errorModal;return Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)("div",{className:"".concat(Le.a.backdrop," ").concat(Le.a[r])}),Object(j.jsxs)("div",{className:"".concat(Le.a.modal," ").concat(Le.a[r]),children:[Object(j.jsx)("header",{className:Le.a.header,children:Object(j.jsx)("h2",{children:i.errorTitle})}),Object(j.jsx)("div",{className:Le.a.content,children:i.errorMessage}),Object(j.jsx)("footer",{className:Le.a.actions,children:Object(j.jsx)(ke.a,{onClick:function(){c("closeAnimation"),setTimeout((function(){e.onConfirm()}),120)},children:e.buttonText})})]})]})},De=function(){var e,t=ge(),a=function(e){var a=new FileReader;a.onload=function(e){var a=new Uint8Array(e.target.result),n=be()({source:a});t.saveData(n)},a.readAsArrayBuffer(e)},r=Object(j.jsx)(Te,{className:je.a.marginTop});return Object(j.jsxs)("div",{className:je.a.uploadFile,children:[t.errorModal.hasError&&Object(j.jsx)(Me,{onConfirm:function(){t.showError({hasError:!1})}}),Object(j.jsx)("label",{children:"Upload your Excel file:"}),Object(j.jsx)("div",{className:je.a.uploadFile__uploadWrapper,children:Object(j.jsx)("label",{className:je.a.uploadFile__uploadContainer,style:{cursor:"".concat(t.data.Sheet1?"auto":"pointer")},onDrop:function(e){e.preventDefault();var t=e.dataTransfer.files[0];a(t)},onDragOver:function(e){e.preventDefault()},htmlFor:"file",children:Object(j.jsxs)("div",{className:je.a.uploadFile__chooseFile,children:[Object(j.jsx)("div",{className:je.a.uploadFile__excelIcon,children:Object(j.jsx)("svg",{fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 80",width:"100px",height:"100px",children:Object(j.jsx)("path",{d:"M 45 9.792969 L 9 16.613281 L 9 63.386719 L 45 70.207031 L 45 63 L 69 63 L 69 17 L 45 17 Z M 43 12.207031 L 43 67.792969 L 11 61.730469 L 11 18.269531 Z M 40 15 C 39.449219 15 39 15.449219 39 16 C 39 16.550781 39.449219 17 40 17 C 40.550781 17 41 16.550781 41 16 C 41 15.449219 40.550781 15 40 15 Z M 40 19 C 39.449219 19 39 19.449219 39 20 C 39 20.550781 39.449219 21 40 21 C 40.550781 21 41 20.550781 41 20 C 41 19.449219 40.550781 19 40 19 Z M 45 19 L 67 19 L 67 61 L 45 61 L 45 53 L 49 53 L 49 51 L 45 51 L 45 45 L 49 45 L 49 43 L 45 43 L 45 37 L 49 37 L 49 35 L 45 35 L 45 29 L 49 29 L 49 27 L 45 27 Z M 40 23 C 39.449219 23 39 23.449219 39 24 C 39 24.550781 39.449219 25 40 25 C 40.550781 25 41 24.550781 41 24 C 41 23.449219 40.550781 23 40 23 Z M 40 27 C 39.449219 27 39 27.449219 39 28 C 39 28.550781 39.449219 29 40 29 C 40.550781 29 41 28.550781 41 28 C 41 27.449219 40.550781 27 40 27 Z M 51 27 L 51 29 L 62 29 L 62 27 Z M 17.453125 31 L 22.722656 40.035156 L 16.964844 49.066406 L 21.8125 49.066406 L 24.9375 43.234375 C 25.15625 42.671875 25.296875 42.25 25.355469 41.972656 L 25.40625 41.972656 C 25.53125 42.5625 25.652344 42.96875 25.769531 43.1875 L 28.882813 49.066406 L 33.707031 49.066406 L 28.140625 39.957031 L 33.558594 31 L 29.019531 31 L 26.144531 36.367188 C 25.871094 37.0625 25.679688 37.589844 25.578125 37.941406 L 25.53125 37.941406 C 25.371094 37.355469 25.191406 36.847656 24.988281 36.417969 L 22.40625 31 Z M 40 31 C 39.449219 31 39 31.449219 39 32 C 39 32.550781 39.449219 33 40 33 C 40.550781 33 41 32.550781 41 32 C 41 31.449219 40.550781 31 40 31 Z M 40 35 C 39.449219 35 39 35.449219 39 36 C 39 36.550781 39.449219 37 40 37 C 40.550781 37 41 36.550781 41 36 C 41 35.449219 40.550781 35 40 35 Z M 51 35 L 51 37 L 62 37 L 62 35 Z M 40 39 C 39.449219 39 39 39.449219 39 40 C 39 40.550781 39.449219 41 40 41 C 40.550781 41 41 40.550781 41 40 C 41 39.449219 40.550781 39 40 39 Z M 40 43 C 39.449219 43 39 43.449219 39 44 C 39 44.550781 39.449219 45 40 45 C 40.550781 45 41 44.550781 41 44 C 41 43.449219 40.550781 43 40 43 Z M 51 43 L 51 45 L 62 45 L 62 43 Z M 40 47 C 39.449219 47 39 47.449219 39 48 C 39 48.550781 39.449219 49 40 49 C 40.550781 49 41 48.550781 41 48 C 41 47.449219 40.550781 47 40 47 Z M 40 51 C 39.449219 51 39 51.449219 39 52 C 39 52.550781 39.449219 53 40 53 C 40.550781 53 41 52.550781 41 52 C 41 51.449219 40.550781 51 40 51 Z M 51 51 L 51 53 L 62 53 L 62 51 Z M 40 55 C 39.449219 55 39 55.449219 39 56 C 39 56.550781 39.449219 57 40 57 C 40.550781 57 41 56.550781 41 56 C 41 55.449219 40.550781 55 40 55 Z M 40 59 C 39.449219 59 39 59.449219 39 60 C 39 60.550781 39.449219 61 40 61 C 40.550781 61 41 60.550781 41 60 C 41 59.449219 40.550781 59 40 59 Z M 40 63 C 39.449219 63 39 63.449219 39 64 C 39 64.550781 39.449219 65 40 65 C 40.550781 65 41 64.550781 41 64 C 41 63.449219 40.550781 63 40 63 Z"})})}),t.data.Sheet1?Object(j.jsx)(n.Fragment,{children:r}):Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)("input",{onChange:function(e){var t=e.target.files[0];a(t)},id:"file",type:"file",accept:".xlsx, .xls, .csv"}),Object(j.jsx)("div",{className:je.a.uploadFile__chooseFileDesc,children:"or drop excel files here"})]})]})})}),(null===(e=t.data.Sheet1)||void 0===e?void 0:e.length)?Object(j.jsx)(Ne,{}):Object(j.jsx)(n.Fragment,{})]})},Ie=a(340),Ae=a(163),Be=a.n(Ae),Pe=function(e){var t=e.primaryKey,a=e.name,r=e.emailId,c=ge(),i=Object(n.useState)(!c.neglectEmails.includes(t)),s=Object(p.a)(i,2),l=s[0],o=s[1];return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:t}),c.fields.nameField?Object(j.jsx)("td",{children:a}):"",Object(j.jsx)("td",{children:r}),Object(j.jsx)("td",{children:Object(j.jsx)("label",{className:Be.a.container,children:Object(j.jsx)(Ie.a,{checked:l,onChange:function(e){o(e.target.checked),e.target.checked?c.undoNeglectEmail(t):c.neglectEmail(t)}})})})]})},Ue=r.a.memo(Pe),Re=a(86),He=a.n(Re),Ke=function(e){return""===e},Ze=function(){var e=ge(),t=e.data,a=e.fields;if(!(null===t||void 0===t?void 0:t.Sheet1))return Object(j.jsx)("p",{className:He.a.center,children:"No Excel File Uploaded or the excel file is empty"});if(Ke(a.primaryKey)||Ke(a.emailIdField))return Object(j.jsx)("p",{className:He.a.center,children:"Enter the unique identifier and email Id field"});var r=t.Sheet1[0],c=t.Sheet1.slice(1),i=c.length>=9;return Object(j.jsx)(n.Fragment,{children:Object(j.jsx)("div",{className:He.a.recipientsWrapper,style:{overflowY:"".concat(i?"scroll":"hidden")},children:Object(j.jsxs)("table",{className:He.a.recipients,children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{className:He.a.header,children:[Object(j.jsx)("th",{children:r[a.primaryKey]}),a.nameField?Object(j.jsx)("th",{children:r[a.nameField]}):"",Object(j.jsx)("th",{children:r[a.emailIdField]}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:c.map((function(e){return e.map((function(e){return e[a.primaryKey]?Object(j.jsx)(Ue,{primaryKey:e[a.primaryKey],name:e[a.nameField],emailId:e[a.emailIdField]},Math.random()):Object(j.jsx)(n.Fragment,{})}))}))})]})})})},We=a(53),qe=a.n(We),Ge=a(351),ze=a(328),Ve=a(336),Xe=a(337),Qe=Object(Ve.a)((function(e){return{root:{"& .MuiTextField-root":{width:"80ch"}}}}));function Ye(){var e=Qe(),t=ge();return Object(j.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object(j.jsx)("div",{children:Object(j.jsx)(Xe.a,{id:"standard-multiline-flexible",label:"Add Subject",multiline:!0,maxRows:4,value:t.subject,style:{fontSize:"1.3em"},onChange:function(e){t.addSubject(e.target.value)},margin:"normal",variant:"standard",InputLabelProps:{shrink:!0}})})})}var Je=a(164),$e=a.n(Je),et=function(e){var t=ge(),a=t.data.Sheet1[0],n=Object.keys(a).filter((function(e){return e!==t.fields.emailIdField}));return Object(j.jsx)("div",{className:$e.a.table,children:Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsx)("tr",{children:n.map((function(e){return Object(j.jsx)("th",{style:{background:"".concat(t.tableStyle.background),border:"".concat(t.tableStyle.header.border),color:"".concat(t.tableStyle.header.color)},children:a[e]},Math.random())}))})}),Object(j.jsx)("tbody",{children:Object(j.jsx)("tr",{children:n.map((function(n){return Object(j.jsxs)("td",{style:{border:"".concat(t.tableStyle.body.border),color:"".concat(t.tableStyle.body.color)},children:["<<"+a[n]+">>",Object(j.jsx)("br",{}),"(",e.recipient.length>1&&e.recipient[1][n]?"Array ":"",(r=typeof e.recipient[0][n],r.charAt(0).toUpperCase()+r.slice(1)),")"]},Math.random());var r}))},Math.random())})]})})},tt=a(175),at=a(342);function nt(e){var t=Object(n.useState)(null),a=Object(p.a)(t,2),r=a[0],c=a[1],i=function(t){c(null),e.onSelectVariable(t.target.outerText)};return Object(j.jsxs)("div",{children:[Object(j.jsx)(ke.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},children:e.children}),Object(j.jsx)(tt.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:i,children:e.menu.map((function(e){return Object(j.jsx)(at.a,{onClick:i,children:e},Math.random())}))})]})}var rt=a(335),ct=a(345),it=a(329),st=a(349),lt=a(40),ot=a.n(lt),dt=function(){return Object(j.jsxs)(ct.a,{justify:"space-evenly",alignItems:"center",container:!0,className:ot.a.contentContainer,children:[Object(j.jsx)(ct.a,{item:!0,xs:2.4,children:Object(j.jsx)("div",{className:ot.a.content})}),Object(j.jsx)(ct.a,{item:!0,xs:2.4,children:Object(j.jsx)("div",{className:ot.a.content})}),Object(j.jsx)(ct.a,{item:!0,xs:2.4,children:Object(j.jsx)("div",{className:ot.a.content})}),Object(j.jsx)(ct.a,{item:!0,xs:2.4,children:Object(j.jsx)("div",{className:ot.a.content})}),Object(j.jsx)(ct.a,{item:!0,xs:2.4,children:Object(j.jsx)("div",{className:ot.a.content})})]})},jt=function(e){var t=ge();return Object(j.jsx)(ke.a,{onClick:function(){t.addTableStyle(e.tableStyle)},children:Object(j.jsxs)(ct.a,{container:!0,className:"".concat(ot.a.tableContainer," ").concat(ot.a["table".concat(e.tableNo)]),children:[Object(j.jsx)(ct.a,{item:!0,xs:12,className:ot.a.header,children:Object(j.jsx)(dt,{})}),Object(j.jsx)(ct.a,{item:!0,xs:12,className:ot.a.row,children:Object(j.jsx)(dt,{})}),Object(j.jsx)(ct.a,{item:!0,xs:12,className:ot.a.row,children:Object(j.jsx)(dt,{})}),Object(j.jsx)(ct.a,{item:!0,xs:12,className:ot.a.row,children:Object(j.jsx)(dt,{})}),Object(j.jsx)(ct.a,{item:!0,xs:12,className:ot.a.row,children:Object(j.jsx)(dt,{})})]})})};function ut(e){var t=r.a.useState(null),a=Object(p.a)(t,2),n=a[0],c=a[1],i=r.a.useState(!1),s=Object(p.a)(i,2),l=s[0],o=s[1],d={1:{background:"black",body:{border:"1px solid black",color:"black"},header:{border:"1px solid white",color:"white"}},2:{background:"#5D9BD5",body:{border:"1px solid #5D9BD5",color:"black"},header:{border:"1px solid white",color:"white"}},3:{background:"#ED7C31",body:{border:"1px solid #ED7C31",color:"black"},header:{border:"1px solid white",color:"white"}},4:{background:"#FFBF00",body:{border:"1px solid #FFBF00",color:"black"},header:{border:"1px solid white",color:"white"}},5:{background:"rgb(0, 211, 148)",body:{border:"1px solid rgb(0, 211, 148)",color:"black"},header:{border:"1px solid white",color:"white"}}},u=function(e){c(e.currentTarget),o((function(e){return!e}))},b=Object.keys(d);return Object(j.jsxs)("div",{children:[Object(j.jsx)(rt.a,{onMouseLeave:u,open:l,anchorEl:n,placement:"top",transition:!0,children:function(e){var t=e.TransitionProps;return Object(j.jsx)(it.a,Object($.a)(Object($.a)({},t),{},{timeout:350,children:Object(j.jsx)(st.a,{style:{padding:"10px"},children:Object(j.jsx)(ct.a,{container:!0,spacing:1,children:b.map((function(e){return Object(j.jsx)(ct.a,{item:!0,xs:2.4,children:Object(j.jsx)(jt,{tableNo:e,tableStyle:d[e]})},Math.random())}))})})}))}}),Object(j.jsx)(ct.a,{container:!0,justifyContent:"center",children:Object(j.jsx)(ct.a,{item:!0,children:Object(j.jsx)(ke.a,{disabled:e.disabled,onClick:u,children:"Table Styles"})})})]})}var bt=function(e){return""===e},ht=function(){var e,t=ge(),a=Object(n.useState)(t.body),r=Object(p.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(t.footer),l=Object(p.a)(s,2),o=l[0],d=l[1],u=Object(n.useState)(t.showTable),b=Object(p.a)(u,2),h=b[0],m=b[1],x=Object(n.useState)(t.caretPosition),f=Object(p.a)(x,2),O=f[0],_=f[1],v=Object(n.useState)(null),g=Object(p.a)(v,2),y=g[0],S=g[1],C=Object(n.useRef)(),N=Object(n.useRef)(),E=[];if(t.data.Sheet1&&(E=Object.values(t.data.Sheet1[0]).map((function(e){return"<<"+e+">>"}))),Object(n.useEffect)((function(){var e=setTimeout((function(){t.addBody(c),t.addFooter(o),t.updateCaretPosition(O)}),200);return function(){clearTimeout(e)}}),[O,c,o]),Object(n.useEffect)((function(){h&&(N.current.focus(),S("footer"))}),[h]),!(null===(e=t.data)||void 0===e?void 0:e.Sheet1))return Object(j.jsx)("p",{className:qe.a.center,children:"No Excel File Uploaded or the excel file is empty"});if(bt(t.fields.primaryKey)||bt(t.fields.emailIdField))return Object(j.jsx)("p",{className:qe.a.center,children:"Enter the unique identifier and email Id field"});var w=function(e){"Tab"===e.key&&(e.preventDefault(),i((function(e){return e+"    "})),d((function(e){return e+"    "}))),"Backspace"===e.key&&h&&0===o.length&&C.current.focus(),"ArrowLeft"===e.key&&_((function(e){return e-1})),"ArrowRight"===e.key&&_((function(e){return e+1}))};return Object(j.jsx)(n.Fragment,{children:Object(j.jsxs)("div",{className:qe.a.body,children:[Object(j.jsx)("div",{className:qe.a.bodySubject,children:Object(j.jsx)(Ye,{})}),Object(j.jsx)("label",{children:"Add Body:"}),Object(j.jsxs)(Ge.a,{className:qe.a.bodyMessageTopBar,children:[Object(j.jsx)("div",{className:qe.a.bodyMessageStyleChanger,children:Object(j.jsx)(ut,{disabled:!h})}),Object(j.jsxs)("div",{className:qe.a.bodyMessageActions,children:[Object(j.jsx)(nt,{onSelectVariable:function(e){"footer"!==y?"body"===y&&i((function(t){return t.slice(0,O)+e+t.slice(O)})):d((function(t){return t.slice(0,O)+e+t.slice(O)}))},menu:E,children:"Variables"}),h?Object(j.jsx)(ke.a,{onClick:function(){i((function(e){return e+o})),d(""),m(!1),t.setShowTable(!1),C.current.focus(),S("body")},children:"Remove Table"}):Object(j.jsx)(ke.a,{onClick:function(){m(!0),t.setShowTable(!0),S("footer"),N.current.focus()},children:"Insert Table"})]})]}),Object(j.jsx)("label",{htmlFor:h?"footer":"body",className:qe.a.bodyMessageWrapper,children:Object(j.jsxs)("div",{className:qe.a.bodyMessage,onBlur:function(e){_(e.target.selectionStart)},children:[Object(j.jsx)(ze.a,{id:"body","aria-label":"empty textarea",ref:C,onFocus:function(e){"body"===e.target.id&&"body"!==y&&S("body"),"footer"===e.target.id&&"footer"!==y&&S("footer")},value:c,onKeyDown:w,onChange:function(e){i(e.target.value),_(e.target.selectionStart)},onClick:function(e){_(e.target.selectionStart)},className:qe.a.bodyTextarea}),h&&Object(j.jsx)(n.Fragment,{children:Object(j.jsx)(et,{recipient:t.data.Sheet1[1]})}),Object(j.jsx)(ze.a,{"aria-label":"empty textarea",id:"footer",ref:N,value:o,style:{display:"".concat(h?"block":"none")},onKeyDown:w,onChange:function(e){d(e.target.value),_(e.target.selectionStart)},className:qe.a.bodyTextarea})]})})]})})},pt=a(332),mt=a(72),xt=a.n(mt),ft=a(168),Ot=a.n(ft),_t=a(169),vt=a.n(_t),gt=a(97),yt=a.n(gt),St=function(e){var t="",a=!1;return Object(he.a)(e).forEach((function(e){"<"===e&&(a=!0),">"===e&&(a=!1),t+=" "!==e||a?"\n"===e?"<br/>":"\t"===e?"&nbsp;&nbsp;&nbsp;&nbsp;":e:"&nbsp;"})),t},Ct=function(e,t){var a=e.data.Sheet1[0],n=Object.keys(a).filter((function(t){return t!==e.fields.emailIdField})),r=[];n.forEach((function(e){r.push(["<<"+a[e]+">>",t[0][e]])}));var c=e.body+"\n",i=e.footer;r.forEach((function(e){c=c.split(e[0]).join(e[1]),i=i.split(e[0]).join(e[1])})),c=St(c),i=St(i);var s="\n  <head>\n      <style>\n            .table thead th { \n                text-align: left;\n              } \n            .table {\n              background-color: white; \n              width: 85%;\n              padding-top: 1em; \n              border-spacing: 1px;\n              border-collapse: collapse;\n            }\n            .table td,.table th {\n              border: 1px solid #ddd;\n              padding: 8px;\n            }\n            .table tr td{\n              border: ".concat(e.tableStyle.body.border,"; \n              color: ").concat(e.tableStyle.body.color,";\n            }\n            .table th{\n              padding-top: 12px;\n              padding-bottom: 12px;\n              text-align: left;\n              background: ").concat(e.tableStyle.background,";\n              border: ").concat(e.tableStyle.header.border,"; \n              color: ").concat(e.tableStyle.header.color,";\n            }\n           </style></head>"),l="";return e.showTable&&(l+="<table class='table'><thead><tr>",n.forEach((function(e){l+="<th>".concat(a[e],"</th>")})),l+="</tr></thead><tbody>",t.forEach((function(e,t){l+=(t+1)%2===0?"<tr style='background-color: #f2f2f2'>":"<tr>",n.forEach((function(t){var a=e[t]?e[t]:"";l+="<td>".concat(a,"</td>")})),l+="</tr>"})),l+="</tbody></table>"),"".concat(s,"<body><div>").concat(c,"</div>").concat(l,"<div>").concat(i,"</div></body>")},Nt=function(e,t){var a=ge().data.Sheet1[0];return Object.keys(a).map((function(e){return["<<"+a[e]+">>",t[e]]})).forEach((function(t){e=e.split(t[0]).join(t[1])})),e=St(e)},Et=a(165),wt=a.n(Et),Tt=function(e){var t=ge(),a=t.data.Sheet1[0],n=Object.keys(a).filter((function(e){return e!==t.fields.emailIdField}));return Object(j.jsx)("div",{className:wt.a.table,children:Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsx)("tr",{children:n.map((function(e){return Object(j.jsx)("th",{style:{background:"".concat(t.tableStyle.background),border:"".concat(t.tableStyle.header.border),color:"".concat(t.tableStyle.header.color)},children:a[e]})}))})}),Object(j.jsx)("tbody",{children:e.recipient.map((function(e){return Object(j.jsx)("tr",{children:n.map((function(a){return Object(j.jsx)("td",{style:{border:"".concat(t.tableStyle.body.border),color:"".concat(t.tableStyle.body.color)},children:e[a]})}))})}))})]})})},kt=function(e){var t=ge(),a=e.recipient[0],n=Nt(t.body+"\n",a),r=Nt(t.footer,a),c=Nt(t.subject,a);return Object(j.jsxs)(Ge.a,{className:yt.a.card,elevation:2,children:[Object(j.jsxs)("div",{className:yt.a.toAddress,children:[Object(j.jsx)("strong",{children:"To: "}),e.recipient[0][t.fields.emailIdField]]}),Object(j.jsx)("div",{className:yt.a.subject,children:t.subject?Object(j.jsx)("div",{dangerouslySetInnerHTML:{__html:c}}):"(no subject)"}),Object(j.jsxs)("div",{className:yt.a.body,children:[t.body?Object(j.jsx)("div",{dangerouslySetInnerHTML:{__html:n}}):t.showTable?"":"(no body)",t.showTable&&Object(j.jsx)(Tt,Object($.a)({},e)),t.footer&&Object(j.jsx)("div",{dangerouslySetInnerHTML:{__html:r}})]})]})},Ft=a(166),Lt=a.n(Ft),Mt=function(e){return""===e},Dt=function(){var e,t,a=Object(n.useState)(0),r=Object(p.a)(a,2),c=r[0],i=r[1],s=ge();if(!(null===(e=s.data)||void 0===e?void 0:e.Sheet1))return Object(j.jsx)("p",{className:xt.a.center,children:"No Excel File Uploaded or the excel file is empty"});if(Mt(s.fields.primaryKey)||Mt(s.fields.emailIdField))return Object(j.jsx)("p",{className:xt.a.center,children:"Enter the unique identifier and email Id field"});var l=null===(t=s.data.Sheet1)||void 0===t?void 0:t.slice(1).filter((function(e){return!s.neglectEmails.includes(e[0][s.fields.primaryKey])})),o=[];l.forEach((function(e){o.push(Object(j.jsx)(kt,{index:c,recipient:e},Math.random()))}));return Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)(pt.a,{className:xt.a.linearProgress,variant:"determinate",style:{width:"100%",backgroundColor:"rgb(182 188 226 / 0%)"},value:c/((null===o||void 0===o?void 0:o.length)-1)*100}),Object(j.jsxs)("div",{className:xt.a.emailPreview,children:[Object(j.jsx)("div",{className:xt.a.navigationButton,children:Object(j.jsx)(Ge.a,{children:Object(j.jsx)(ke.a,{onClick:function(){i(c>0?function(e){return e-1}:l.length-1)},children:Object(j.jsx)(Ot.a,{})})})}),Object(j.jsx)("div",{className:xt.a.emailContainer,children:Object(j.jsx)(Lt.a,{index:c,children:o})}),Object(j.jsx)("div",{className:xt.a.navigationButton,children:Object(j.jsx)(Ge.a,{children:Object(j.jsx)(ke.a,{onClick:function(){c<l.length-1?i((function(e){return e+1})):i(0)},children:Object(j.jsx)(vt.a,{})})})})]})]})},It=a(41),At=a.n(It),Bt=a(73),Pt=a(98),Ut=a.n(Pt),Rt=(a(245),a(170)),Ht=a.n(Rt).a.create({baseURL:"http://127.0.0.1:8080/"}),Kt=a(353),Zt=a(357),Wt=a(356),qt=a(352),Gt=a(354),zt=a(355),Vt=a(128),Xt=a.n(Vt),Qt=a(333);function Yt(e){var t=Object.keys(e.statusData);return Object(j.jsx)(qt.a,{style:{maxHeight:400},className:Xt.a.container,component:st.a,children:Object(j.jsxs)(Kt.a,{stickyHeader:!0,style:{fontFamily:"Urbanist"},"aria-label":"simple table",children:[Object(j.jsx)(Gt.a,{children:Object(j.jsxs)(zt.a,{children:[Object(j.jsx)(Wt.a,{children:"Email"}),Object(j.jsx)(Wt.a,{children:"Status"})]})}),Object(j.jsx)(Zt.a,{children:t.map((function(t){var a,n,r;return Object(j.jsxs)(zt.a,{style:{background:"".concat((null===(a=e.statusData[t])||void 0===a?void 0:a.status)?"success"===e.status||"failure"===e.status?"rgb(235 255 235)":"#faffc2":"requested"===e.status||"sending"!==e.status?"rgb(255 235 235)":"")},children:[Object(j.jsx)(Wt.a,{children:null===(n=e.statusData[t])||void 0===n?void 0:n.email}),Object(j.jsx)(Wt.a,{children:(null===(r=e.statusData[t])||void 0===r?void 0:r.status)?"success"===e.status||"failure"===e.status?Object(j.jsx)("div",{style:{padding:"2px 0",fontWeight:"bold",color:"green"},children:"Sent"}):Object(j.jsx)("div",{style:{padding:"2px 0",fontWeight:"bold",color:"#939300"},children:"Requested"}):"sending"===e.status?Object(j.jsx)("div",{className:Xt.a.circle,children:Object(j.jsx)(Qt.a,{style:{width:"25px",height:"25px"}})}):Object(j.jsx)("div",{style:{padding:"2px 0",fontWeight:"bold",color:"red"},children:"Failed"})})]},t)}))})]})})}var Jt=a(5),$t=a(6),ea=a(171),ta=a(167),aa=a(99),na=a.n(aa),ra=Object($t.a)(pt.a)((function(e){var t,a=e.theme;return t={height:10,borderRadius:5},Object(Jt.a)(t,"&.".concat(ta.a.colorPrimary),{backgroundColor:a.palette.grey["light"===a.palette.mode?200:800]}),Object(Jt.a)(t,"& .".concat(ta.a.bar),{borderRadius:5,backgroundColor:"light"===a.palette.mode?"#1a90ff":"#308fe8"}),t}));function ca(e){return Object(j.jsxs)(ee.a,{sx:{position:"relative"},children:[Object(j.jsx)(Qt.a,Object($.a)(Object($.a)({variant:"determinate",sx:{color:function(e){return e.palette.grey["light"===e.palette.mode?200:800]}},size:40,thickness:4},e),{},{value:100})),Object(j.jsx)(Qt.a,Object($.a)({variant:"indeterminate",disableShrink:!0,sx:Object(Jt.a)({color:function(e){return"light"===e.palette.mode?"#1a90ff":"#308fe8"},animationDuration:"550ms",position:"absolute",left:0},"& .".concat(ea.a.circle),{strokeLinecap:"round"}),size:40,thickness:4},e))]})}function ia(e){var t=Object.keys(e.statusData),a=0;t.forEach((function(t){e.statusData[t].status&&a++}));var n="".concat(na.a.tick," ").concat("success"===e.status?"":na.a.fail),r="";"sending"!==e.status&&"requested"!==e.status&&(r="".concat("success"===e.status?na.a.linearProgressSuccess:na.a.linearProgressFailure));var c=Math.floor(a/t.length*100+.5);return Object(j.jsxs)(ee.a,{sx:{flexGrow:1},children:[Object(j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:["sending"===e.status||"requested"===e.status?Object(j.jsx)(ca,{}):Object(j.jsx)(Te,{className:n}),Object(j.jsxs)("span",{style:{marginLeft:"10px"},children:[a,"/",t.length," emails","sending"===e.status||"requested"===e.status?" requested":" sent"]})]}),Object(j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(j.jsx)(ee.a,{sx:{flexGrow:1},children:Object(j.jsx)(ra,{className:r,variant:"determinate",value:c})}),Object(j.jsxs)("span",{style:{marginLeft:"10px"},children:[c,"%"]})]})]})}var sa=a(346),la=a(358),oa=a(359),da=a(360),ja=a(172),ua=a.n(ja),ba=a(334),ha=n.forwardRef((function(e,t){return Object(j.jsx)(ba.a,Object($.a)({direction:"up",ref:t},e))}));function pa(e){return Object(j.jsxs)(sa.a,{fullScreen:!0,open:e.open,onClose:e.handleClose,TransitionComponent:ha,children:[Object(j.jsx)(re.a,{sx:{position:"relative"},children:Object(j.jsxs)(la.a,{children:[Object(j.jsx)(oa.a,{edge:"start",color:"inherit",onClick:e.handleClose,"aria-label":"close",children:Object(j.jsx)(ua.a,{})}),Object(j.jsx)(da.a,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:"Email Status"})]})}),Object(j.jsx)(ee.a,{sx:{padding:"0 5em 0 5em"},children:e.children})]})}var ma=function(e){return""===e},xa=function(){var e,t=Object(n.useState)(""),a=Object(p.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),s=Object(p.a)(i,2),l=s[0],o=s[1],d=Object(n.useState)(!1),u=Object(p.a)(d,2),b=u[0],h=u[1],m=Object(n.useState)(""),x=Object(p.a)(m,2),f=(x[0],x[1],Object(n.useState)("")),O=Object(p.a)(f,2),_=(O[0],O[1],Object(n.useState)({})),v=Object(p.a)(_,2),g=v[0],y=v[1],S=ge();if(!(null===(e=S.data)||void 0===e?void 0:e.Sheet1))return Object(j.jsx)("p",{className:Ut.a.center,children:"No Excel File Uploaded or the excel file is empty"});if(ma(S.fields.primaryKey)||ma(S.fields.emailIdField))return Object(j.jsx)("p",{className:Ut.a.center,children:"Enter the unique identifier and email Id field"});var C=function(){var e=Object(Bt.a)(At.a.mark((function e(){return At.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ht({method:"GET",url:"/authorize"}).catch((function(e){console.log(e)}));case 2:return e.sent,e.next=5,N();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(Bt.a)(At.a.mark((function e(){var t,a;return At.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=null===(t=S.data.Sheet1)||void 0===t?void 0:t.slice(1).filter((function(e){return!S.neglectEmails.includes(e[0][S.fields.primaryKey])})),e.next=4,T(a);case 4:S.showError({hasError:!1}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(Bt.a)(At.a.mark((function e(t,a){var n;return At.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ht({method:"POST",url:"/sendmessage",data:{messages:t,subject:S.subject,from:"emmanueldavid1320@gmail.com"}}).catch((function(e){console.log(e)}));case 2:return n=e.sent,y((function(e){return Object($.a)(Object($.a)({},e),n.data.status)})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(Bt.a)(At.a.mark((function e(t,a){var n,r,i,s,l;return At.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object.keys(t),r=0;case 2:if(!(r<Math.floor(a.length/5))){e.next=9;break}return e.next=5,E(a.slice(5*r,5*(r+1)),t);case 5:t=e.sent;case 6:r++,e.next=2;break;case 9:if(5*Math.floor(a.length/5)===a.length){e.next=13;break}return e.next=12,E(a.slice(5*Math.floor(a.length/5),a.length,t));case 12:t=e.sent;case 13:for(i=[],s=0;s<n.length;s++)t&&((null===(l=t[n[s]])||void 0===l?void 0:l.status)||i.push(n[s]));if(i.length){e.next=18;break}return c("success"),e.abrupt("return");case 18:o(!0),c("failure");case 20:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(Bt.a)(At.a.mark((function e(t){var a,n;return At.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),c("sending"),a={},n=t.map((function(e){var t=Ct(S,e),n=e[0][S.fields.emailIdField],r=e[0][S.fields.primaryKey];return a[r]={email:n,status:!1},{id:r,html:t,to:n}})),y((function(e){return Object($.a)(Object($.a)({},e),a)})),e.next=7,w(a,n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(Bt.a)(At.a.mark((function e(){var t,a,n,r,i;return At.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=Object.keys(g),c("sending"),n=[],r=0;r<a.length;r++)g[a[r]].status||n.push(+a[r]);return i=null===(t=S.data.Sheet1)||void 0===t?void 0:t.slice(1).filter((function(e){return n.includes(e[0][S.fields.primaryKey])})),e.next=7,T(i);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(Bt.a)(At.a.mark((function e(){return At.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(n.Fragment,{children:[S.errorModal.hasError&&Object(j.jsx)(Me,{buttonText:"Confirm your email"===S.errorModal.errorTitle?"Confirm":"Okay",onConfirm:N}),Object(j.jsx)("div",{className:Ut.a.sendEmail,children:Object(j.jsx)(ke.a,{onClick:C,children:"Send Email"})}),Object(j.jsxs)(pa,{open:b,handleClose:function(){h(!1),setTimeout((function(){c("")}),[1e3])},children:[Object(j.jsx)("div",{className:Ut.a.progress,children:Object(j.jsx)(ia,{statusData:g,status:r})}),l?Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10px"},children:Object(j.jsxs)(n.Fragment,{children:["(Access token error) Better try again with a different email Id or click and try sending to the failed recipients \xa0",Object(j.jsx)(ke.a,{onClick:F,style:{textTransform:"lower-case",boxShadow:""},children:"Send Again"})]})}):"",Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"3em"},children:Object(j.jsx)(Yt,{statusData:g,status:r})})]})]})},fa=function(e){var t=Object(l.g)().pathname,a=Object(l.f)(),r=["upload-file","recipients","compose","email-preview","send"],c=r.findIndex((function(e){return t==="/send-email/".concat(e)})),i=Object(n.useState)(c||0),o=Object(p.a)(i,2),d=o[0],u=o[1],b={height:"".concat("/send-email/compose"===t?"46em":"34em")};return"/send-email/"===t&&a.push("/send-email/upload-file"),Object(j.jsx)("div",{className:J.a.sendEmailContainer,style:b,children:Object(j.jsxs)(s.a,{children:[Object(j.jsx)(oe,{tabList:r,onTabChangeHandler:function(e){u(e)},value:d}),Object(j.jsx)(l.c,{children:Object(j.jsxs)(te,{value:d,index:d,children:[Object(j.jsx)(l.a,{path:"/send-email/upload-file",children:Object(j.jsx)(De,{})}),Object(j.jsx)(l.a,{path:"/send-email/recipients",children:Object(j.jsx)(Ze,{})}),Object(j.jsx)(l.a,{path:"/send-email/compose",children:Object(j.jsx)(ht,{})}),Object(j.jsx)(l.a,{path:"/send-email/email-preview",children:Object(j.jsx)(Dt,{})}),Object(j.jsx)(l.a,{path:"/send-email/send",children:Object(j.jsx)(xa,{})})]})})]})})},Oa=a(173),_a=a.n(Oa),va=function(){return Object(j.jsx)("div",{className:_a.a.drafts,children:"Coming Soon!.."})},ga=function(){var e=Object(l.f)();return Object(n.useEffect)((function(){e.replace("/dashboard")})),Object(j.jsx)("div",{className:""})},ya=a(110),Sa=Object(ya.b)({name:"user",initialState:{user:null},reducers:{saveUser:function(e,t){e.user=t.payload}}}),Ca=Sa.actions,Na=Sa;var Ea=function(){var e=Object(T.b)(),t=Object(T.c)((function(e){return e.user.user}));return Object(n.useEffect)((function(){_.onAuthStateChanged((function(t){e(t?Ca.saveUser(t):Ca.saveUser(null))}))}),[]),Object(j.jsx)(s.a,{children:Object(j.jsxs)(l.c,{children:[" ",Object(j.jsx)(l.a,{path:"/",exact:!0,children:Object(j.jsx)(ga,{})}),Object(j.jsx)(l.a,{path:"/sign-in",children:Object(j.jsx)(y,{})}),Object(j.jsx)(l.a,{path:"/sign-up",children:Object(j.jsx)(w,{})}),Object(j.jsx)(l.a,{path:"/dashboard",children:t?Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)(Z,{}),Object(j.jsx)(Q,{children:Object(j.jsx)(R,{})})]}):Object(j.jsx)(y,{})}),Object(j.jsx)(l.a,{path:"/drafts",children:t?Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)(Z,{}),Object(j.jsx)(Q,{children:Object(j.jsx)(va,{})})]}):Object(j.jsx)(y,{})}),Object(j.jsx)(l.a,{path:"/send-email/",children:t?Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)(Z,{}),Object(j.jsx)(Q,{children:Object(j.jsx)(fa,{})})]}):Object(j.jsx)(y,{})})]})})},wa=Object(ya.a)({reducer:{user:Na.reducer}});i.a.render(Object(j.jsx)(T.a,{store:wa,children:Object(j.jsx)(ye,{children:Object(j.jsx)(Ea,{})})}),document.getElementById("root"))},40:function(e,t,a){e.exports={tableContainer:"TableStyles_tableContainer__2ArGj",table1:"TableStyles_table1__RbuA2",header:"TableStyles_header__i3zjM",row:"TableStyles_row__wsF00",table2:"TableStyles_table2__1Wvig",table3:"TableStyles_table3__bZiPo",table4:"TableStyles_table4__UTVyi",table5:"TableStyles_table5__32Xei",contentContainer:"TableStyles_contentContainer__22Doq",content:"TableStyles_content__2BRZZ"}},46:function(e,t,a){e.exports={container:"SignUp_container__14lBj",logo:"SignUp_logo__1aBG0",wrapper:"SignUp_wrapper__ML-RB",form:"SignUp_form__3TNrI",details:"SignUp_details__2td1Y",actions:"SignUp_actions__1xxnI",invalid:"SignUp_invalid__3p9Pe","error-text":"SignUp_error-text__12k23","margin-top":"SignUp_margin-top__R_DS1",shrink:"SignUp_shrink__3P20p",displayFlex:"SignUp_displayFlex__2Ojza",signin:"SignUp_signin__2Ixnq"}},50:function(e,t,a){e.exports={container:"SignIn_container__11GzK",logo:"SignIn_logo__u1O3D",wrapper:"SignIn_wrapper__2f2dL",form:"SignIn_form__2jlMD",details:"SignIn_details__ucDmN",actions:"SignIn_actions__3prx0",invalid:"SignIn_invalid__j8Y0A","error-text":"SignIn_error-text__DoK0M","margin-top":"SignIn_margin-top__QeLpl",shrink:"SignIn_shrink___r7aA",displayFlex:"SignIn_displayFlex__1_5GE",signup:"SignIn_signup__1CnrI"}},53:function(e,t,a){e.exports={body:"Compose_body__1WyXC",bodyTextarea:"Compose_bodyTextarea__1Ab0N",center:"Compose_center__2HX3y",bodyMessage:"Compose_bodyMessage__Cxru0",bodySubject:"Compose_bodySubject__27BHC",bodyMessageWrapper:"Compose_bodyMessageWrapper__GLaLu",bodyMessageTopBar:"Compose_bodyMessageTopBar__1W0jf",bodyMessageActions:"Compose_bodyMessageActions__1Xwl8",bodyMessageStyleChanger:"Compose_bodyMessageStyleChanger__1gBqA",draft:"Compose_draft__2tMhx"}},70:function(e,t,a){e.exports={uploadFile:"UploadFile_uploadFile__21Dm0",uploadFile__uploadWrapper:"UploadFile_uploadFile__uploadWrapper__151sx",uploadFile__uploadContainer:"UploadFile_uploadFile__uploadContainer__32C2P",uploadFile__chooseFile:"UploadFile_uploadFile__chooseFile__1prRf",uploadFile__excelIcon:"UploadFile_uploadFile__excelIcon__3zt3I",uploadFile__chooseFileDesc:"UploadFile_uploadFile__chooseFileDesc__3C0bN",marginTop:"UploadFile_marginTop__1sTi3",dropdown:"UploadFile_dropdown__v5amy",navigation:"UploadFile_navigation__1921E"}},71:function(e,t,a){e.exports={backdrop:"ErrorModal_backdrop__1Id3G",openModal:"ErrorModal_openModal__5tanS",modal:"ErrorModal_modal__3mMOg",header:"ErrorModal_header__1x0lG",content:"ErrorModal_content__4cwk7",actions:"ErrorModal_actions__c5IDC",closeAnimation:"ErrorModal_closeAnimation__3DpLD",closeModal:"ErrorModal_closeModal__3GLxX"}},72:function(e,t,a){e.exports={emailContainer:"EmailPreview_emailContainer__1e-6v",emailPreview:"EmailPreview_emailPreview__1CCQq",card:"EmailPreview_card__3v6Ta",toAddress:"EmailPreview_toAddress__1E0Ur",subject:"EmailPreview_subject__1l7rE",body:"EmailPreview_body__2ty5a",navigationButton:"EmailPreview_navigationButton__1StXy",linearProgress:"EmailPreview_linearProgress__1Dj4G",center:"EmailPreview_center__1t8y-"}},76:function(e,t,a){e.exports={circ:"TickAnimation_circ__1btEE","circle-animation":"TickAnimation_circle-animation__Tc3qc",tick:"TickAnimation_tick__3Oqmg","tick-animation":"TickAnimation_tick-animation__2wZu9",path:"TickAnimation_path__2sU18",svg:"TickAnimation_svg__3CCKa"}},83:function(e,t,a){e.exports={home:"Layout_home__1jSSg",sidebar:"Layout_sidebar__j_Tj4",main:"Layout_main__1dA1g",active:"Layout_active__1siUj"}},85:function(e,t,a){e.exports={dropdown:"SpecifyField_dropdown__V4Ic7",errorText:"SpecifyField_errorText__VXTV_",specifyField:"SpecifyField_specifyField__4NFlw"}},86:function(e,t,a){e.exports={recipientsWrapper:"Recipients_recipientsWrapper__3V5i4",recipients:"Recipients_recipients__or6Xb",header:"Recipients_header__1NbSc",center:"Recipients_center__2001t"}},97:function(e,t,a){e.exports={card:"RecipientCard_card__3rbYo",toAddress:"RecipientCard_toAddress__1wLMQ",subject:"RecipientCard_subject__2lDyl",body:"RecipientCard_body__1vb6Q"}},98:function(e,t,a){e.exports={sendEmail:"SendEmail_sendEmail__3uANn",navigation:"SendEmail_navigation__mZAgu",center:"SendEmail_center__1JbHK",circleProgress:"SendEmail_circleProgress__IpvNK",progress:"SendEmail_progress__2Sw1C"}},99:function(e,t,a){e.exports={tick:"Progress_tick__2wLRQ",fail:"Progress_fail__35fSE",linearProgressSuccess:"Progress_linearProgressSuccess__3JjfU",linearProgressFailure:"Progress_linearProgressFailure__B1hgw"}}},[[264,1,2]]]);
//# sourceMappingURL=main.043c3af4.chunk.js.map